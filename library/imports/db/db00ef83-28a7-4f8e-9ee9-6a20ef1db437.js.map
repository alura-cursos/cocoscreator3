{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\Inimigo.js"],"names":["cc","Class","extends","Component","properties","alvo","Node","_movimentacao","_controleAnimacao","_gameOver","distanciaAtaque","Float","onLoad","getComponent","find","node","on","morrer","update","dt","direcao","position","sub","distancia","mag","mudaAnimacao","setDirecao","andarPraFrente","emit","eventoMorte","Event","EventCustom","dispatchEvent","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAML,GAAGM,IADD;AAERC,uBAAgBP,GAAGG,SAFX;AAGRK,2BAAoBR,GAAGG,SAHf;AAIRM,mBAAYT,GAAGM,IAJP;AAKRI,yBAAkBV,GAAGW;;AALb,KAHP;;AAaLC,YAAQ,kBAAY;AAChB,aAAKL,aAAL,GAAqB,KAAKM,YAAL,CAAkB,cAAlB,CAArB;AACA,aAAKL,iBAAL,GAAyB,KAAKK,YAAL,CAAkB,oBAAlB,CAAzB;AACA,aAAKJ,SAAL,GAAiBT,GAAGc,IAAH,CAAQ,UAAR,CAAjB;AACA,aAAKT,IAAL,GAAYL,GAAGc,IAAH,CAAQ,wBAAR,CAAZ;AACA,aAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA2B,KAAKC,MAAhC,EAAwC,IAAxC;AACH,KAnBI;;AAqBLC,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAIC,UAAU,KAAKf,IAAL,CAAUgB,QAAV,CAAmBC,GAAnB,CAAuB,KAAKP,IAAL,CAAUM,QAAjC,CAAd;AACA,YAAIE,YAAYH,QAAQI,GAAR,EAAhB;AACA,aAAKhB,iBAAL,CAAuBiB,YAAvB,CAAoCL,OAApC,EAA6C,OAA7C;AACA,aAAKb,aAAL,CAAmBmB,UAAnB,CAA8BN,OAA9B;AACA,aAAKb,aAAL,CAAmBoB,cAAnB;;AAEA,YAAGJ,YAAY,KAAKb,eAApB,EAAoC;AACjC,iBAAKL,IAAL,CAAUuB,IAAV,CAAe,WAAf;AACF;AACJ,KA/BI;;AAiCLX,YAAS,kBAAU;AACf,YAAIY,cAAc,IAAI7B,GAAG8B,KAAH,CAASC,WAAb,CAAyB,aAAzB,EAAwC,IAAxC,CAAlB;AACA,aAAKhB,IAAL,CAAUiB,aAAV,CAAwBH,WAAxB;AACA,aAAKd,IAAL,CAAUkB,OAAV;AACH;;AArCI,CAAT","file":"Inimigo.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        alvo: cc.Node,\n        _movimentacao : cc.Component,\n        _controleAnimacao : cc.Component,\n        _gameOver : cc.Node,\n        distanciaAtaque : cc.Float,\n        \n       \n    },\n\n    onLoad: function () {\n        this._movimentacao = this.getComponent(\"Movimentacao\");\n        this._controleAnimacao = this.getComponent(\"ControleDeAnimacao\");\n        this._gameOver = cc.find(\"GameOver\");\n        this.alvo = cc.find(\"Personagens/Personagem\");\n        this.node.on(\"SofrerDano\", this.morrer, this);\n    },\n\n    update: function (dt) {\n        let direcao = this.alvo.position.sub(this.node.position);\n        let distancia = direcao.mag();\n        this._controleAnimacao.mudaAnimacao(direcao, \"Andar\");\n        this._movimentacao.setDirecao(direcao);\n        this._movimentacao.andarPraFrente();\n        \n        if(distancia < this.distanciaAtaque){\n           this.alvo.emit(\"SofreDano\");\n        }\n    },\n    \n    morrer : function(){\n        let eventoMorte = new cc.Event.EventCustom(\"ZumbiMorreu\", true);\n        this.node.dispatchEvent(eventoMorte);\n        this.node.destroy();\n    }\n    \n    \n    \n    \n    \n    \n});\n"]}